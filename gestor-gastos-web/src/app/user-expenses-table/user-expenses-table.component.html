<section class="expended-section">
    <span><strong>Total Expended:</strong> {{finalAmount | number: '.2-2'}} €</span>
    <span><strong>Total Expended this month:</strong> {{finalAmountMoth}} €</span>
</section>
<!-- TODO Sortable -->
<section class="section-table expense-table">
    <table mat-table [dataSource]="expensesDataSource" matSort mdbTableScroll scrollX="true" scrollY="True">
        <ng-container matColumnDef="user">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{'User' | translate}}
            </th>
            <td mat-cell *matCellDef="let expense">
                <a href="user/{{expense.user}}">{{expense.user}}</a>
            </td>
        </ng-container>
        <ng-container matColumnDef="dossier">
            <th mat-header-cell *matHeaderCellDef>
                {{'Dossier' | translate}}
            </th>
            <td mat-cell *matCellDef="let expense">
                <a *ngIf="expense.dossier != null" mat-stroked-button [href]="expense.dossier">Open dossier</a>
            </td>
        </ng-container>
        <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{'Date' | translate}}
            </th>
            <td mat-cell *matCellDef="let expense">
                {{expense.formmatedDate}}
            </td>
        </ng-container>
        <ng-container matColumnDef="amount">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{'Amount' | translate}}
            </th>
            <td mat-cell *matCellDef="let expense">
                {{expense.amount}} &euro;
            </td>
        </ng-container>
        <ng-container matColumnDef="vatpercentage">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{'VAT %' | translate}}
            </th>
            <td mat-cell *matCellDef="let expense">
                {{expense.vatpercentage}} &percnt;
            </td>
        </ng-container>
        <ng-container matColumnDef="final_amount">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
                {{'Final Amount' | translate}}
            </th>
            <td mat-cell *matCellDef="let expense">
                {{expense.final_amount}} &euro;
            </td>
        </ng-container>
        <ng-container matColumnDef="showBtn">
            <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
            <td mat-cell *matCellDef="let expense">
                <a mat-raised-button color="accent" href="/expense/{{expense.id}}"> {{"Details" | translate}} </a>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 15, 20]" showFirstLastButtons>
    </mat-paginator>
</section>